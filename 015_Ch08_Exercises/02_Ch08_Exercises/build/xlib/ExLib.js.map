{"version":3,"sources":["../../src/xlib/ExLib.js"],"names":[],"mappings":"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","file":"ExLib.js","sourcesContent":["/**\r\n * Created by mike10 on 12/16/2015.\r\n */\r\n\r\nexport let __hotReload = true;\r\n\r\nimport _ from 'ramda';\r\n\r\nimport {Task,Maybe} from 'folktale/data';\r\n\r\n\r\n// Exercise 1\r\n// ==========\r\n// Use _.add(x,y) and map(f,x) to make a function that increments a value inside a functor\r\n\r\nexport var add1 =  _.map(_.add(1,_.__),_.__);\r\n\r\n\r\n//Exercise 2\r\n// ==========\r\n// Use _.head to get the first element of the list\r\n// var xs = Identity.of(['do', 'ray', 'me', 'fa', 'so', 'la', 'ti', 'do']);\r\n// var ex2 = undefined\r\n\r\nvar inspect = function(x) {\r\n    return (x && x.inspect) ? x.inspect() : x;\r\n};\r\n\r\n\r\n// Identity\r\nexport var Identity = function(x) {\r\n    this.__value = x;\r\n};\r\n\r\nIdentity.of = function(x) { return new Identity(x); };\r\n\r\nIdentity.prototype.map = function(f) {\r\n    return Identity.of(f(this.__value));\r\n};\r\n\r\nIdentity.prototype.inspect = function() {\r\n    return 'Identity('+inspect(this.__value)+')';\r\n};\r\n\r\nexport var firstInList = _.map(_.head);\r\n\r\n// Exercise 3\r\n// ==========\r\n// Use safeProp and _.head to find the first initial of the user\r\n\r\nexport var safeProp = _.curry(function (x, o) { return Maybe.of(o[x]); });\r\n\r\nexport var findFirstInitial = _.compose( _.map(_.head),safeProp('name'));\r\n\r\n// Exercise 4\r\n// ==========\r\n// Use Maybe to rewrite ex4 without an if statement\r\n//var ex4 = function (n) {\r\n//    if (n) { return parseInt(n); }\r\n//};\r\n\r\n// Note: Javascript parseInt\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt\r\nexport var intParse = _.compose(_.map(parseInt), Maybe.of);\r\n\r\n// Exercise 5\r\n// ==========\r\n// Write a function that will getPost then toUpperCase the post's title\r\n\r\nvar toUpperCase = function(x) {\r\n    return x.toUpperCase();\r\n};\r\n\r\n\r\n// getPost :: Int -> Future({id: Int, title: String})\r\nvar getPost = function (i) {\r\n    return new Task(function(rej, res) {\r\n        setTimeout(function(){\r\n            res({id: i, title: 'Love them futures'})\r\n        }, 300)\r\n    });\r\n};\r\n\r\n\r\nvar upperTitle = _.compose(toUpperCase, _.prop('title'));\r\n\r\nexport var getPostToUpper = _.compose(_.map(upperTitle), getPost);\r\n\r\n// Exercise 6\r\n// ==========\r\n// Write a function that uses checkActive() and showWelcome() to grant access\r\n// or return the error\r\n\r\nexport var Left = function(x) {\r\n    this.__value = x;\r\n};\r\n\r\nLeft.of = function(x) {\r\n    return new Left(x);\r\n};\r\n\r\nLeft.prototype.map = function(f) { return this; }\r\nLeft.prototype.ap = function(other) { return this; }\r\nLeft.prototype.join = function() { return this; }\r\nLeft.prototype.chain = function() { return this; }\r\nLeft.prototype.inspect = function() {\r\n    return 'Left('+inspect(this.__value)+')';\r\n};\r\n\r\n\r\nexport var Right = function(x) {\r\n    this.__value = x;\r\n};\r\n\r\nRight.of = function(x) {\r\n    return new Right(x);\r\n};\r\n\r\nRight.prototype.map = function(f) {\r\n    return Right.of(f(this.__value));\r\n};\r\n\r\nRight.prototype.join = function() {\r\n    return this.__value;\r\n};\r\n\r\nRight.prototype.chain = function(f) {\r\n    return f(this.__value);\r\n};\r\n\r\nRight.prototype.ap = function(other) {\r\n    return this.chain(function(f) {\r\n        return other.map(f);\r\n    });\r\n};\r\n\r\nRight.prototype.join = function() {\r\n    return this.__value;\r\n};\r\n\r\nRight.prototype.chain = function(f) {\r\n    return f(this.__value);\r\n};\r\n\r\nRight.prototype.inspect = function() {\r\n    return 'Right('+inspect(this.__value)+')';\r\n};\r\n\r\n\r\nvar showWelcome = _.compose(_.add( \"Welcome \"), _.prop('name'));\r\n\r\nvar checkActive = function(user) {\r\n    return user.active ? Right.of(user) : Left.of('Your account is not active')\r\n};\r\n\r\nexport var checkActiveShowWelcome = _.compose(_.map(showWelcome), checkActive);\r\n\r\n// Exercise 7\r\n// ==========\r\n// Write a validation function that checks for a length > 3. It should return\r\n// Right(x) if it is greater than 3 and Left(\"You need > 3\") otherwise\r\n\r\nexport var validateLen3 = function(x) {\r\n    return x.length > 3 ? Right.of(x) : Left.of(\"You need > 3\");\r\n};\r\n\r\n// Exercise 8\r\n// ==========\r\n// Use ex7 above and Either as a functor to save the user if they are valid or\r\n// return the error message string. Remember either's two arguments must return\r\n// the same type.\r\n\r\n//var save = function(x){\r\n//    return new IO(function(){\r\n//        console.log(\"SAVED USER!\");\r\n//        return x + '-saved';\r\n//    });\r\n//};\r\n\r\n// IO\r\nexport var IO = function(f) {\r\n    this.unsafePerformIO = f;\r\n};\r\n\r\nIO.of = function(x) {\r\n    return new IO(function() {\r\n        return x;\r\n    });\r\n};\r\n\r\nIO.prototype.map = function(f) {\r\n    return new IO(_.compose(f, this.unsafePerformIO));\r\n};\r\n\r\nIO.prototype.join = function() {\r\n    return this.unsafePerformIO();\r\n};\r\n\r\nIO.prototype.chain = function(f) {\r\n    return this.map(f).join();\r\n};\r\n\r\nIO.prototype.ap = function(a) {\r\n    return this.chain(function(f) {\r\n        return a.map(f);\r\n    });\r\n};\r\n\r\nIO.prototype.inspect = function() {\r\n    return 'IO('+inspect(this.unsafePerformIO)+')';\r\n}\r\n\r\nexport var unsafePerformIO = function(x) { return x.unsafePerformIO(); }\r\n\r\nexport var either = _.curry(function(f, g, e) {\r\n    switch(e.constructor) {\r\n        case Left: return f(e.__value);\r\n        case Right: return g(e.__value);\r\n    }\r\n});\r\n\r\n\r\nexport var save = function(x){\r\n    return new IO(function(){\r\n        console.log(\"SAVED USER!\");\r\n        return x + '-saved';\r\n    });\r\n};\r\n\r\nexport var saveUser = _.compose(either(IO.of, save), validateLen3);"]}