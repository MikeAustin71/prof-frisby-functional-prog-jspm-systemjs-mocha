{"version":3,"sources":["../../src/xlib/Exlib.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;IAWY,CAAC;;;;;;;;;;AANN,IAAI,WAAW,WAAX,WAAW,GAAG,IAAI,CAAC;;;AASvB,IAAI,QAAQ,WAAR,QAAQ,GAAG,gBAAE,KAAK,CAAC,UAAS,CAAC,EAAE,GAAG,EAAE;AAC3C,WAAO,MANI,KAAK,CAMH,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;CAC3B,CAAC;;;AAAC,AAGI,IAAI,QAAQ,WAAR,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC;;;AAAC,AAG3B,IAAI,kBAAkB,WAAlB,kBAAkB,GAAG,gBAAE,OAAO,CACrC,gBAAE,GAAG,CAAC,gBAAE,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,gBAAE,GAAG,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,WAAW,CAAC,CAC3E,CAAC;;AAEK,IAAI,mBAAmB,WAAnB,mBAAmB,GAAG,gBAAE,OAAO,CACtC,SAjBI,MAAM,CAiBH,IAAI,EAAE,gBAAE,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,SAjBpC,MAAM,CAiBqC,IAAI,EAAE,gBAAE,GAAG,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,WAAW,CAAC,CAC9F;;;AAAC,AAIK,IAAI,KAAK,WAAL,KAAK,GAAG,gBAAE,KAAK,CAAC,UAAS,CAAC,EAAE,CAAC,EAAC;AACrC,WAAQ,gBAAE,OAAO,CAAC,SAvBd,MAAM,CAuBe,IAAI,EAAE,gBAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAAE,CAChD,CAAC;;;AAAC,AAGI,IAAI,oBAAoB,WAApB,oBAAoB,GAAG,gBAAE,OAAO,CACvC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,WAAW,CAAC,CACpE,CAAC","file":"Exlib.js","sourcesContent":["/**\r\n * Created by mike10 on 12/20/2015.\r\n */\r\n\r\n\r\nexport let __hotReload = true;\r\n\r\nimport _ from 'ramda';\r\n\r\nimport {Either,Maybe} from 'folktale/data';\r\nimport {monads} from 'folktale/control';\r\nimport * as S from './support.js';\r\n\r\n//  safeProp :: Key -> {Key: a} -> Maybe a\r\nexport var safeProp = _.curry(function(x, obj) {\r\n    return Maybe.of(obj[x]);\r\n});\r\n\r\n//  safeHead :: [a] -> Maybe a\r\nexport var safeHead = safeProp(0);\r\n\r\n//  firstAddressStreet :: User -> Maybe (Maybe (Maybe Street) )\r\nexport var firstAddressStreet = _.compose(\r\n    _.map(_.map(safeProp('street'))), _.map(safeHead), safeProp('addresses')\r\n);\r\n\r\nexport var mFirstAddressStreet = _.compose(\r\n    monads.join, _.map(safeProp('street')), monads.join, _.map(safeHead), safeProp('addresses')\r\n);\r\n\r\n\r\n//  chain :: Monad m => (a -> m b) -> m a -> m b\r\nexport var chain = _.curry(function(f, m){\r\n    return  _.compose(monads.join, _.map(f))(m) ; // or m.map(f).join()\r\n});\r\n\r\n// chain\r\nexport var v2FirstAddressStreet = _.compose(\r\n    chain(safeProp('street')), chain(safeHead), safeProp('addresses')\r\n);\r\n\r\n"]}